Gandharva
=========

音声ファイルを演奏するソフトウェアです。

作者が若くて礼儀知らずだった頃、fiddle という劣化クローンソフトを
作ったことがあります。Gandharva はその後継です。

★特長
　　☆Direct Show を使います。
　　　K-Lite Mega Codec Pack 等が入っている環境であれば
　　　たいていどんなファイル形式でも演奏できるでしょう。

　　☆圧縮フォルダを扱えます。(要 7z.dll (7-Zip 付属))
　　　対応形式は、zip, rar, lzh, 7z 他です (7-Zip が対応している形式なら OK)
　　　メモリ上にファイルを展開して、そのまま演奏します。
　　　テンポラリファイル等への書き出しは生じません。

　　☆CUE ファイルを扱えます。

★動作環境
　　Windows 10 x64 (動作確認済)
　　Windows 7 では動くはず (未確認)

　　Windows XP 以前では動かないと思います。
　　これは開発ツールに切り捨てられたためですのでどうしようもないです。

★インストール
　　gandharva.zip をどこかに解凍してください。
　　◆Program Files の中や、◆Windows フォルダの中など
　　システムによってプロテクトされているところは避けてください。

　　圧縮フォルダを演奏させたい場合は、
　　7z.dll を gandharva.exe の隣にコピーしてください。
　　→「7z.dll の入手」の項参照

★アンインストール
　　ゴミ箱に捨ててください。レジストリは使いません。

★7z.dll の入手
　　1. 7-Zip (32bit) がインストールされている場合
　　　(64bit 版が入っている場合は 2. へ)

　　　　C:\Program Files\7-Zip\7z.dll
　　　もしくは
　　　　C:\Program Files (x86)\7-Zip\7z.dll
　　　にあります。

　　　これを gandharva.exe の隣にコピーします。

　　　もしくは gandharva-config.txt をメモ帳で開き、
　　　　　7zDLL=7z.dll
　　　となっている行を
　　　　　7zDLL=C:\Program Files (x86)\7-Zip\7z.dll
　　　などと変更するだけでもよいです。

　　2. 7-Zip がインストールされていない場合
　　　もしくは、インストールされているのが 64bit 版の場合

　　　http://sevenzip.sourceforge.jp/download.html
　　　から「7-Zip 32ビット Windows用」の MSI パッケージを
　　　入手します。

　　　このパッケージをインストールしたくない場合は 3. へ

　　　ただし、普通にインストールしてもかまいません。
　　　その場合はインストールして 1. へ。
　　　〈Windows が 64bit の方は、これをインストールせずに
　　　　3. へ飛んだ方がいいでしょう
　　　　(32bit 版 7-Zip は、64bit 版 Explorer と協調できません)〉

　　3. 7-Zip をインストールしたくない場合

　　　入手した MSI ファイルの拡張子を .cab に変えます。
　　　すると普通に CAB ファイルとして、
　　　お好きな解凍ソフトで解凍できるはずです。

　　　そこから _7z.dll というファイルを取り出してください。
　　　これを 7z.dll に名前を変更して、
　　　gandharva.exe の隣にコピーしてください。

★設定
　　gandharva-config.txt を手でいじると設定が変更できます。
　　このテキストは、BOM つきの UTF16 (リトルエンディアン) です。
　　(よくわからない方は Windows 付属のメモ帳で編集していただくと
　　気にする必要はありません。)

　　■[名前]=[値]　という行を書き連ねていきます。
　　　[名前]の前後、[値]の前後に余計な空白が入るとエラーになります。
　　　また、[値]の中に空白が必要な場合も、引用符で囲まないでください。

　　■各行の説明
　　　7zDLL=<7z.dll のパス名>
　　　　　7z.dll をコピーしてこなくても、ここにフルパスを記述すれば大丈夫です。
　　　　　(相対パス ..\..\7-Zip\7z.dll みたいなのは避けてください)

　　　Archive[形式]=<フィルタ>
　　　　　その形式の書庫の拡張子を記述します。
　　　　　　例: Archive[zip]=*.zip;*.docx;*.pptx

　　　　　右辺が空白の場合はその書庫が無効になります。

　　　　　7z.dll 内部に登録されている拡張子を使う場合は
　　　　　　Archive[zip]=DEFAULT
　　　　　と書いてください。

　　　　　☆*.tar.gz のような、二重に圧縮されているファイルは
　　　　　　ここに登録してもうまく扱えません (仕様)

　　　Hidden=<ドライブ名>
　　　　　たとえば Hidden=ABEZ と書くと、A: B: E: Z: の四つのドライブが
　　　　　表示されなくなります。
　　　　　(同時に、これらの中にあるファイルは演奏できなくなります)

　　　　　フロッピードライブのアイコンに間違えて触ってしまって
　　　　　　　パソコン「ガガガガッ」
　　　　　　　俺「うっぜ氏ね」
　　　　　とならないための機能です。

　　　Playable=<フィルタ>
　　　　　演奏可能なファイルの拡張子を記述します。

★トラブル・シューティング
　　■書庫ファイル内の音声ファイルが演奏できないことがある
　　　△音声ファイルがデカすぎませんか？
　　　　このソフトは 32bit ですから、500MB を越えるようなデータは
　　　　ハード的にいくらメモリが積まれていても扱えないことがあります。

　　　　(普通のフォルダ内の音声ファイルには、大きさの制限はありません)

　　　△もしそんなに大きくない音声ファイルが、
　　　　　普通のフォルダ内にあるときは演奏できるのに
　　　　　圧縮書庫内にあるときは演奏できないとしたら
　　　　それはこのソフトのバグです。報告してください。

★おやくそく
　　このソフトウェアの著作権を、作者は放棄します。ご自由にお使いください。

　　このソフトウェアに関して生じた損害は、
　　いかなるものであっても作者はその責任を負いません。

★fiddle との相違点
　　■Unzip32.dll ではなく 7z.dll を使います。

　　■圧縮フォルダを演奏するとき、テンポラリファイルを使わなくなりました。
　　　全てメモリ内で完結します。

　　■ライセンスが明確になりました。(パブリックドメイン)


★更新履歴
151108
　　●Windows 10 で圧縮フォルダ内のファイルを再生すると冒頭にプツとノイズが入る
　　　問題を修正
　　●開発ツールが Visual Studio 2015 になった。同時に XP サポートを切り捨てた
130618
　　前回終了時に選択されていたファイルのあったドライブが消えているとき、
　　起動した瞬間落ちる問題を修正
130603
　　Windows XP で起動できない問題を修正
130527
　　再生できないファイルがある問題を修正
130526
　　動画位置をシークすると落ちることがある問題を修正
130525
　　リリース
